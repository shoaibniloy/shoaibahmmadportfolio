<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Autonomous Pollination with 3D Printed Robotic Arm and a Monocular Camera (Webcam)</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" rel="stylesheet">
    <style>
      /* Remove margin and padding between sections */
      .ftco-section {
        margin: 0 !important;
        padding: 0 !important;
      }

      .carousel {
        margin-bottom: 0 !important;
      }

      .container {
        padding: 0 !important;
      }

      .hero-wrap {
        margin-top: 0 !important;
        padding-top: 0 !important;
      }

      .content-section {
        padding: 20px;
        font-family: Poppins, sans-serif;
        line-height: 1.8;
        font-size: 1.05rem;
      }

      .content-section h2, .content-section h4, .content-section h5, .content-section h6 {
        margin-top: 28px;
        margin-bottom: 14px;
        font-weight: 600;
      }

      .content-section p, .content-section ul {
        margin-bottom: 18px;
      }

      .content-section ul ul {
        margin-bottom: 10px;
      }

      .project-visuals {
        display: flex;
        flex-wrap: wrap;
        gap: 14px;
        justify-content: center;
        margin: 30px 0;
      }

      .project-visuals img {
        width: 48%;
        max-width: 520px;
        border-radius: 14px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.16);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .project-visuals img:hover {
        transform: translateY(-6px);
        box-shadow: 0 14px 28px rgba(0,0,0,0.25);
      }

      #projectCarousel .carousel-item {
        background: #000;
        text-align: center;
      }
      #projectCarousel .carousel-item img {
        width: 100%;
        height: auto;
        max-height: 82vh;
        object-fit: contain;
        display: inline-block;
      }

      .carousel-control-prev-icon,
      .carousel-control-next-icon {
        background-color: rgba(0,0,0,0.6);
        border-radius: 50%;
        width: 55px;
        height: 55px;
      }

      .video-container {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        border-radius: 18px;
        box-shadow: 0 12px 36px rgba(0,0,0,0.22);
        margin: 35px 0;
      }

      .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
      }

      .highlight {
        background: linear-gradient(120deg, #fff9c4 0%, #fff9c4 100%);
        padding: 3px 7px;
        border-radius: 5px;
        font-weight: 600;
      }

      .tech-tag {
        display: inline-block;
        background: #e8f5e9;
        color: #2e7d32;
        padding: 5px 12px;
        border-radius: 22px;
        font-size: 0.88rem;
        margin: 5px 7px 5px 0;
        font-weight: 500;
      }

      .section-divider {
        height: 1px;
        background: linear-gradient(to right, transparent, #ccc, transparent);
        margin: 45px 0;
      }

      .katex-display {
        margin: 20px 0;
        overflow-x: auto;
        overflow-y: hidden;
      }

      .code-block {
        background: #f5f5f5;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 12px 16px;
        font-family: 'Courier New', monospace;
        font-size: 0.92rem;
        overflow-x: auto;
        margin: 18px 0;
      }

      .fig-caption {
        font-size: 0.9rem;
        color: #555;
        text-align: center;
        margin-top: 8px;
        font-style: italic;
      }
    </style>
  </head>
  <body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">
    
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar ftco-navbar-light site-navbar-target" id="ftco-navbar">
      <div class="container">
          <a class="navbar-brand red-text" href="index.html">Go Back</a>
          <div class="collapse navbar-collapse" id="ftco-nav">
          </div>
      </div>
    </nav>  

    <!-- Hero Video Section -->
    <section class="ftco-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-12 ftco-animate">
            <div class="video-container">
              <iframe src="https://www.youtube.com/embed/w8g6eLM7Erg" title="Autonomous Pollination System - Full Demo" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content Section -->
    <section class="content-section">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 ftco-animate">
            <h2 class="text-center">Autonomous Pollination with 3D Printed 6-DoF Robotic Arm and Monocular Vision</h2>
            <p class="lead text-center">A high-precision, low-cost pollination robot using <strong>real-time 3D pose estimation</strong>, <strong>constrained PSO inverse kinematics</strong>, and <strong>EKF-smoothed servo control</strong> — achieving sub-centimeter accuracy with a single webcam and no external sensors.</p>

            <div class="section-divider"></div>

            <h4>System Architecture & Integration</h4>
            <p>The system integrates five core modules in a tightly coupled pipeline:</p>
            <ul>
              <li><strong>Vision Module</strong>: YOLOv8 + Kalman tracking → 3D localization</li>
              <li><strong>Localization Module</strong>: Monocular depth via area regression + radial normalization</li>
              <li><strong>Motion Planning</strong>: PSO-based IK with direction constraints</li>
              <li><strong>Control Module</strong>: EKF per servo + rate-limited trajectory execution</li>
              <li><strong>Interface</strong>: PyQt6 GUI with real-time 3D visualization (Matplotlib)</li>
            </ul>

            <div class="section-divider"></div>

            <h4>Computer Vision Pipeline — In-Depth</h4>

            <h5>1. Flower Detection (YOLOv8)</h5>
            <ul>
              <li><strong>Model</strong>: <code>yolo_apple.pt</code> — fine-tuned on 1,200 annotated yellow apple blossoms</li>
              <li><strong>Input</strong>: 640×360 RGB frames (resized from 1280×720 via letterboxing)</li>
              <li><strong>Inference</strong>: ONNX Runtime with CUDA EP (fallback to CPU)</li>
              <li><strong>Post-processing</strong>: NMS with IoU threshold 0.45, confidence ≥ 0.35</li>
            </ul>

            <h5>2. Multi-Object Tracking with Kalman Filter</h5>
            <p>Each track maintains a 9-state vector:</p>
            <div class="code-block">
              \[\mathbf{x} = [x, y, a, \dot{x}, \dot{y}, \dot{a}, \ddot{x}, \ddot{y}, \ddot{a}]^T\]
            </div>
            <ul>
              <li><strong>State Transition</strong>: Constant acceleration model (dt = 1/30s)</li>
              <li><strong>Measurement</strong>: Bounding box center (x,y), area \(a = w \times h\)</li>
              <li><strong>Data Association</strong>: Weighted cost: \( c = 0.7 \cdot (1 - \text{IoU}) + 0.3 \cdot (1 - \text{conf}) \)</li>
              <li><strong>Track Management</strong>: Age-based deletion after 90 missed frames</li>
            </ul>

            <h5>3. Monocular 3D Localization</h5>
            <p>Depth estimated via calibrated area-to-distance mapping:</p>
            <div class="katex-display">
              \[ d = a_2 \cdot a^2 + a_1 \cdot a + a_0 \]
            </div>
            <ul>
              <li><strong>Calibration</strong>: 150 samples at known distances (200–800mm)</li>
              <li><strong>Coefficients</strong>: \(a_2 = -1.203 \times 10^{-6}\), \(a_1 = 0.00187\), \(a_0 = 712.4\)</li>
              <li><strong>Radial Correction</strong>: 
                \[
                x_c = \frac{x - c_x}{f_x}, \quad y_c = \frac{y - c_y}{f_y}
                \]
                \[
                r = \sqrt{x_c^2 + y_c^2}, \quad \text{scale} = 1 + k_1 r^2 + k_2 r^4
                \]
              </li>
              <li><strong>Deprojection</strong>: 
                \[
                Z = d, \quad X = x_c \cdot Z \cdot \text{scale}, \quad Y = y_c \cdot Z \cdot \text{scale}
                \]
              </li>
            </ul>

            <div class="section-divider"></div>

            <h4>Robotic Arm Kinematics</h4>

            <h5>Forward Kinematics (DH Parameters)</h5>
            <p>6-DoF arm with non-standard joint offsets. Transformation from base to tip:</p>
            <div class="code-block">
              T = T₁(θ₁) ⋅ T₂(θ₂) ⋅ T₃(θ₃) ⋅ T₄(θ₄) ⋅ T₅(θ₅) ⋅ T₆(θ₆) ⋅ Tₑₓₜ
            </div>
            <p>Where \(Tₑₓₜ\) includes 40mm cotton bud along gripper centerline.</p>

            <h5>Inverse Kinematics via Constrained PSO</h5>
            <p>Objective: Minimize end-effector error with direction alignment:</p>
            <div class="katex-display">
              \[ f(\theta) = w_p \| \mathbf{p}_t - \mathbf{p}(\theta) \|_2 + w_d (1 - \hat{\mathbf{d}}_t \cdot \hat{\mathbf{d}}(\theta)) + w_r \|\theta - \theta_{\text{pref}}\|_2 \]
            </div>
            <ul>
              <li><strong>Particles</strong>: 30, inertia decay 0.99 → 0.4</li>
              <li><strong>Bounds</strong>: Per-servo physical limits + velocity constraints</li>
              <li><strong>Direction Weight</strong>: \(w_d = 15.0\) ensures approach vector alignment</li>
              <li><strong>Convergence</strong>: Stop if error < 2.5mm or 300 iterations</li>
            </ul>

            <h5>Servo Control with EKF</h5>
            <p>Each servo runs an independent EKF:</p>
            <div class="katex-display">
              \mathbf{x} = [\theta, \dot{\theta}]^T, \quad \mathbf{F} = \begin{bmatrix} 1 & dt \\ 0 & 1 \end{bmatrix}, \quad \mathbf{Q} = \begin{bmatrix} 0.001 & 0 \\ 0 & 0.001 \end{bmatrix}
            </div>
            <ul>
              <li><strong>Measurement</strong>: Direct angle from Arduino (noisy)</li>
              <li><strong>Prediction</strong>: Constant velocity model</li>
              <li><strong>Update Rate</strong>: 62.5 Hz</li>
            </ul>

            <div class="section-divider"></div>

            <h4>Autonomous Pollination Sequence (Detailed)</h4>
            <ol>
              <li><strong>Target Selection</strong>: Nearest unvisited flower in 3D space</li>
              <li><strong>Standoff Pose</strong>: 
                <ul>
                  <li>Target: \(\mathbf{p}_f - 120\mathbf{\hat{n}}\)</li>
                  <li>Direction: \(\mathbf{\hat{n}} = \frac{\mathbf{p}_f - \mathbf{p}_c}{\|\cdot\|}\)</li>
                  <li>PSO with direction constraint</li>
                </ul>
              </li>
              <li><strong>Contact Thrust</strong>: 
                <ul>
                  <li>Target: \(\mathbf{p}_f\) (exact)</li>
                  <li>Advance 18mm along \(\mathbf{\hat{n}}\)</li>
                  <li>Dwell: 300ms</li>
                </ul>
              </li>
              <li><strong>Retraction</strong>: Move -25mm along \(\mathbf{\hat{n}}\)</li>
              <li><strong>Reset</strong>: Return to preferred pose \(\theta_{\text{home}}\)</li>
            </ol>

            <div class="section-divider"></div>

            <h4>Project Visuals</h4>
            <div class="project-visuals">
              <div>
                <img src="pollination (1).png" alt="Complete GUI with 3D arm, live video, and control panels">
                <p class="fig-caption">Figure 1: Full system dashboard with real-time 3D visualization and servo controls</p>
              </div>
              <div>
                <img src="pollination (2).png" alt="YOLOv8 detection with bounding boxes and confidence scores">
                <p class="fig-caption">Figure 2: Real-time flower detection with confidence filtering</p>
              </div>
              <div>
                <img src="pollination (3).png" alt="3D scene showing camera FOV, arm pose, and target alignment">
                <p class="fig-caption">Figure 3: 3D visualization with camera frustum and approach vector</p>
              </div>
              <div>
                <img src="pollination (4).png" alt="Inverse kinematics panel with PSO solver and constraints">
                <p class="fig-caption">Figure 4: IK solver interface with direction and position constraints</p>
              </div>
              <div>
                <img src="pollination (5).png" alt="Standoff position at 120mm from flower center">
                <p class="fig-caption">Figure 5: Pre-contact standoff pose (120mm)</p>
              </div>
              <div>
                <img src="pollination (6).png" alt="Cotton bud making gentle contact with flower center">
                <p class="fig-caption">Figure 6: Contact phase — 18mm thrust completed</p>
              </div>
              <div>
                <img src="pollination (7).png" alt="EKF-smoothed servo trajectories during motion">
                <p class="fig-caption">Figure 7: EKF filtering on servo angles (real vs filtered)</p>
              </div>
              <div>
                <img src="pollination (8).png" alt="Motion recording with Akima spline interpolation">
                <p class="fig-caption">Figure 8: Recorded trajectory with spline playback</p>
              </div>
              <div>
                <img src="pollination (9).png" alt="Virtual vs physical execution comparison">
                <p class="fig-caption">Figure 9: Simulation vs real-world pose matching</p>
              </div>
              <div>
                <img src="pollination (10).png" alt="Fully autonomous multi-flower pollination sequence">
                <p class="fig-caption">Figure 10: End-to-end autonomous pollination of 5 flowers</p>
              </div>
            </div>

            <div id="projectCarousel" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="pollination (1).png" alt="System Dashboard">
                </div>
                <div class="carousel-item">
                  <img src="pollination (3).png" alt="3D Visualization">
                </div>
                <div class="carousel-item">
                  <img src="pollination (6).png" alt="Pollination Contact">
                </div>
                <div class="carousel-item">
                  <img src="pollination (10).png" alt="Autonomous Sequence">
                </div>
              </div>
              <a class="carousel-control-prev" href="#projectCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#projectCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>

            <div class="section-divider"></div>

            <h4>Performance Metrics</h4>
            <ul>
              <li><strong>Localization Accuracy</strong>: ±8.3mm (RMSE) over 200–600mm range</li>
              <li><strong>IK Solve Time</strong>: 42ms avg (30 particles, CUDA)</li>
              <li><strong>End-Effector Precision</strong>: ±4.1mm in contact phase</li>
              <li><strong>Cycle Time</strong>: 4.8s per flower (detect → pollinate → reset)</li>
              <li><strong>Success Rate</strong>: 96% (144/150 flowers, manual inspection)</li>
            </ul>

            <div class="section-divider"></div>

            <h4>Core Technologies</h4>
            <div>
              <span class="tech-tag">YOLOv8</span>
              <span class="tech-tag">ONNX Runtime</span>
              <span class="tech-tag">CUDA</span>
              <span class="tech-tag">Kalman Filter</span>
              <span class="tech-tag">EKF</span>
              <span class="tech-tag">PSO</span>
              <span class="tech-tag">PyTorch</span>
              <span class="tech-tag">PyQt6</span>
              <span class="tech-tag">Matplotlib 3D</span>
              <span class="tech-tag">Akima Spline</span>
              <span class="tech-tag">Serial Comm</span>
              <span class="tech-tag">QThread</span>
            </div>

          </div>
        </div>
      </div>
    </section>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/scrollax.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\[", right: "\\]", display: true},
            {left: "\\(", right: "\\)", display: false}
          ]
        });
      });
    </script>
    <script src="js/main.js"></script>
  </body>
</html>